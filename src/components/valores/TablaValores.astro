---
import WhatsappBtn from "../WhatsApp/WhatsappBtn.astro";
// TablaValores.astro

// Interfaces para definir la estructura de los datos
interface Plan {
  title: string; // Título del plan
  price: string; // Precio del plan (incluye formato)
  icon: string; // Ícono SVG como cadena
  description: string; // Descripción breve del plan
  features: string[]; // Beneficios del plan
  href: string; // URL del botón "Choose"
}

// Props para personalizar el contenido del componente
const {
  title = "Nuestros Planes", // Título principal
  subtitle = "texto descritivo", // Subtítulo
  plans = [
    {
      title: "Administracion",
      price: "mensual",
      icon: `
        <i class="fas fa-building text-7xl text-white"></i>
      `,
      description: "algo aca",
      features: ["que se hace", "que se hace", "que se hace", "que se hace"],
    },
    {
      title: "Auditorias",
      price: "mensual",
      icon: `
        <i class="fas fa-building text-7xl text-white"></i>
      `,
      description: "algo aca",
      features: ["que se hace", "que se hace", "que se hace", "que se hace"],
    },
  ],
} = Astro.props;
---

<div
  class="antialiased text-gray-400 p-10 -z-1 bg-[url('https://ww1.prweb.com/prfiles/2018/08/07/15678413/Unknown.jpeg')] pb-30 bg-cover"
  id="planes"
>
  <div class="mx-auto">
    <div>
      <!-- Sección del título -->
      <div id="title" class="text-center p-10">
        <h1 class="font-bold text-4xl text-white">{title}</h1>
        <p class="text-light text-gray-500 text-xl">{subtitle}</p>
      </div>

      <!-- Grid de planes -->
      <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-evenly gap-4 md:max-w-4xl mx-auto"
      >
        {
          plans.map((plan: Plan) => (
            <div class="text-center overflow-hidden transform hover:scale-105 transition duration-200 ease-in p-10 bg-black/40 backdrop-blur-md border border-white/20 rounded-lg shadow-lg">
              <div id="title" class="w-full border-b border-gray-200/20 pb-4">
                <h2 class="font-bold text-3xl text-white">{plan.title}</h2>
                <h3
                  class="font-normal text-indigo-400 text-xl"
                  set:html={plan.price}
                />
              </div>

              <div id="content" class="mt-5">
                <div id="icon" class="flex justify-center">
                  <div class="my-5" set:html={plan.icon} />
                </div>
                <p class="text-gray-300 text-sm">{plan.description}</p>

                <div
                  id="contain"
                  class="leading-8 text-lg font-light text-white mt-4 w-full!"
                >
                  <ul class="space-y-2">
                    {plan.features.map((feature: string) => (
                      <li class="flex items-center gap-2">
                        <i class="fas fa-check text-green-400" />
                        {feature}
                      </li>
                    ))}
                  </ul>
                  <div class="w-full mt-6  flex justify-center ">
                    <WhatsappBtn
                      phone="+56073974224"
                      text="Conversemos"
                      message="hola"
                      clases="bg-gray-900 p-4 rounded-lg animate-pulse"
                    />
                  </div>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</div>
